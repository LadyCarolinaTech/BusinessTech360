<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Estados Financieros</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900 min-h-screen">

  <!-- ====== ENCABEZADO ====== -->
<header class="relative text-center pt-2 pb-4">
  
  <!-- Título centrado -->
  <h1 class="text-3xl font-extrabold text-blue-900">BusinessTech 360</h1>

  <!-- Imagen centrada -->
  <div class="mx-auto mt-1 w-60 h-32 rounded-xl shadow-inner flex items-center justify-center overflow-hidden">
    <img src="estados.jpg" alt="Estados Financieros" class="rounded-xl w-full h-full object-cover">
  </div>
</header>


  <main class="max-w-6xl mx-auto p-1 -mt-3 grid md:grid-cols-2 gap-4">

    <!-- BALANCE GENERAL -->
    <section class="bg-white shadow-sm rounded-md p-2">
      <h2 class="text-xl md:text-2xl font-semibold text-blue-800">Balance General</h2>
      <p class="text-xs text-gray-500 mb-3">Registra los activos y pasivos de la empresa.</p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="ac">Activo Corriente</label>
          <input id="ac" type="number" step="0.01" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="0" />
        </div>
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="anc">Activo No Corriente</label>
          <input id="anc" type="number" step="0.01" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="0" />
        </div>
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="pc">Pasivo Corriente</label>
          <input id="pc" type="number" step="0.01" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="0" />
        </div>
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="pnc">Pasivo No Corriente</label>
          <input id="pnc" type="number" step="0.01" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="0" />
        </div>
      </div>

      <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-xs">
        <div class="bg-gray-50 rounded-lg p-3">
          <p class="text-gray-500">Total Activo</p>
          <p class="text-xl font-bold text-blue-900" id="total-activo">0</p>
        </div>
        <div class="bg-gray-50 rounded-lg p-3">
          <p class="text-gray-500">Pasivo Total</p>
          <p class="text-xl font-bold text-blue-900" id="pasivo-total">0</p>
        </div>
        <div class="bg-gray-50 rounded-lg p-3">
          <p class="text-gray-500">Patrimonio (A − P)</p>
          <p class="text-xl font-bold text-blue-900" id="patrimonio">0</p>
        </div>
      </div>

      <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3 text-xs">
        <div class="bg-gray-50 rounded-lg p-3">
          <p class="text-gray-500">Capital de Trabajo Neto (AC − PC)</p>
          <p class="text-xl font-bold text-blue-900" id="ctn">0</p>
        </div>
        <div class="bg-gray-50 rounded-lg p-3">
          <p class="text-gray-500">Razón Corriente (AC / PC)</p>
          <p class="text-xl font-bold text-blue-900" id="rc">-</p>
        </div>
      </div>
    </section>

    <!-- ESTADO DE RESULTADOS -->
    <section class="bg-white shadow-sm rounded-md p-2">
      <h2 class="text-xl md:text-2xl font-semibold text-blue-800">Estado de Resultados</h2>
      <p class="text-xs text-gray-500 mb-3">Registra los ingresos y costos de la empresa.</p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="ventas">Ventas Netas</label>
          <input id="ventas" type="number" step="0.01" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="0" />
        </div>
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="costo">Costo de Ventas</label>
          <input id="costo" type="number" step="0.01" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="0" />
        </div>
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="gastosOp">Gastos Operativos</label>
          <input id="gastosOp" type="number" step="0.01" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="0" />
        </div>
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="gastosFin">Gastos Financieros</label>
          <input id="gastosFin" type="number" step="0.01" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="0" />
        </div>
        <div>
          <label class="block text-xs text-gray-600 mb-1" for="tasaImp">Tasa de Impuesto (%)</label>
          <input id="tasaImp" type="number" step="0.01" value="30" class="w-full rounded-lg border border-gray-300 p-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="30" />
        </div>
      </div>

      <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-xs">
        <div class="bg-gray-50 rounded-lg p-3">
          <p class="text-gray-500">Utilidad Bruta</p>
          <p class="text-xl font-bold text-blue-900" id="ub">0</p>
        </div>
        <div class="bg-gray-50 rounded-lg p-3">
          <p class="text-gray-500">Utilidad Operativa</p>
          <p class="text-xl font-bold text-blue-900" id="uo">0</p>
        </div>
        <div class="bg-gray-50 rounded-lg p-3">
          <p class="text-gray-500">Utilidad Neta</p>
          <p class="text-xl font-bold text-blue-900" id="un">0</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="text-center text-[10px] text-gray-400 py-4">Prototipo educativo • Tailwind por CDN</footer>

  <!-- Lógica JS -->
  <script>
    const num = (id) => {
      const v = parseFloat(document.getElementById(id).value);
      return isNaN(v) ? 0 : v;
    };
    const fmt = (v) => v === '-' || Number.isNaN(v) ? '-' : Number(v).toLocaleString('es-ES', { maximumFractionDigits: 2 });
    const safeDiv = (a, b) => (b === 0 ? '-' : a / b);

    function calcular() {
      const ac = num('ac'), anc = num('anc'), pc = num('pc'), pnc = num('pnc');
      const totalActivo = ac + anc, pasivoTotal = pc + pnc, patrimonio = totalActivo - pasivoTotal;
      const ctn = ac - pc, razonCorriente = safeDiv(ac, pc);

      document.getElementById('total-activo').textContent = fmt(totalActivo);
      document.getElementById('pasivo-total').textContent = fmt(pasivoTotal);
      document.getElementById('patrimonio').textContent = fmt(patrimonio);
      document.getElementById('ctn').textContent = fmt(ctn);
      document.getElementById('rc').textContent = razonCorriente === '-' ? '-' : fmt(razonCorriente);

      const ventas = num('ventas'), costo = num('costo'), gastosOp = num('gastosOp'), gastosFin = num('gastosFin'), tasaImp = num('tasaImp') / 100;
      const utilidadBruta = ventas - costo, utilidadOperativa = utilidadBruta - gastosOp, utilidadAntesImp = utilidadOperativa - gastosFin;
      const impuesto = Math.max(0, utilidadAntesImp * tasaImp), utilidadNeta = utilidadAntesImp - impuesto;

      document.getElementById('ub').textContent = fmt(utilidadBruta);
      document.getElementById('uo').textContent = fmt(utilidadOperativa);
      document.getElementById('un').textContent = fmt(utilidadNeta);
    }

    document.querySelectorAll('input').forEach((el) => el.addEventListener('input', calcular));
  </script>
  <!-- Botón flotante para regresar al inicio -->
<button id="btnCerrarEstados" 
        style="position:fixed; 
               top:22px; 
               right:22px; 
               z-index:999;
               padding:12px 20px;
               font-size:15px;
               border-radius:12px;
               box-shadow:0 6px 20px rgba(0,0,0,0.2);
               background:white;
               border:2px solid #003366;
               color:#003366;
               font-weight:600;
               cursor:pointer;">
  Regresar
</button>



<script>
  // Redirigir al index principal al hacer clic
  document.getElementById('btnCerrarEstados').addEventListener('click', function() {
    window.location.href = 'index.html'; 
  });
</script>

</body>
</html>
